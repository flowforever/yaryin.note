<!DOCTYPE html>
<html av-scope="$root" class="av-mvvm">
<head>
    <title>avril-front js frame work</title>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="../avril-release/avril.css">

    <link rel="stylesheet" href="../ref/bootstrap/css/bootstrap.css">
    <!-- Optional theme -->
    <link rel="stylesheet" href="../ref/bootstrap/css/bootstrap-theme.min.css">
    <!--[if lt IE 8]>
    <link href="../ref/bootstrap/css/bootstrap-ie7.css" rel="stylesheet">
    <![endif]-->

    <style>
        body {
            min-height: 2000px;
            padding-top: 70px;
        }
    </style>
</head>
<body>
<!-- Fixed navbar -->
<div class="navbar navbar-default navbar-fixed-top" role="navigation" av-template="partials/menu.html">
</div>
<div class="container">
<!-- Main component for a primary marketing message or call to action -->
<!-- Main component for a primary marketing message or call to action -->
<h2>av-bind</h2>

<div class="row well" av-scope="avBind">
    <form class="form-horizontal" role="form" av-scope="form">

        <div class="form-group">
            <label class="col-sm-2 control-label">FirstName</label>

            <div class="col-sm-5">
                <input type="text" class="form-control" av-bind="firstName">
            </div>
            <div class="col-sm-5">
                <label class="control-label" av-bind="firstName"></label>
            </div>
        </div>

        <div class="form-group">
            <label class="col-sm-2 control-label">LastName</label>

            <div class="col-sm-5">
                <input type="text" class="form-control" av-bind="lastName">
            </div>
            <div class="col-sm-5">
                <label class="control-label" av-bind="lastName"></label>
            </div>
        </div>

        <div class="form-group">
            <label class="col-sm-2 control-label">Email</label>

            <div class="col-sm-5">
                <input type="email" class="form-control" av-bind="email">
            </div>
            <div class="col-sm-5">
                <label class="control-label" av-bind="email"></label>
            </div>
        </div>

        <div class="form-group">
            <label class="col-sm-2 control-label">FullName</label>

            <div class="col-sm-5">
                <input type="text" class="form-control"
                       av-bind="$tryGet( $scope.firstName, 'default' ) + ' '+ $tryGet( $scope.lastName, 'value')"
                       readonly>
            </div>
        </div>


    </form>
    <div class="form-group">
        <label class="col-sm-3 control-label">$root.avBind.form.firstName</label>

        <div class="col-sm-5">
            <label av-bind="$root.avBind.form.firstName"></label>
        </div>
    </div>
</div>

<h2>av-scope(dynamic)</h2>

<div class="row well" av-scope="$randomScope()">
    <form class="form-horizontal" role="form" av-scope="form">

        <div class="form-group">
            <label class="col-sm-2 control-label">FirstName</label>

            <div class="col-sm-5">
                <input type="text" class="form-control" av-bind="firstName">
            </div>
            <div class="col-sm-5">
                <label class="control-label" av-bind="firstName"></label>
            </div>
        </div>

        <div class="form-group">
            <label class="col-sm-2 control-label">LastName</label>

            <div class="col-sm-5">
                <input type="text" class="form-control" av-bind="lastName">
            </div>
            <div class="col-sm-5">
                <label class="control-label" av-bind="lastName"></label>
            </div>
        </div>

        <div class="form-group">
            <label class="col-sm-2 control-label">Email</label>

            <div class="col-sm-5">
                <input type="email" class="form-control" av-bind="email">
            </div>
            <div class="col-sm-5">
                <label class="control-label" av-bind="email"></label>
            </div>
        </div>

        <div class="form-group">
            <label class="col-sm-2 control-label">FullName</label>

            <div class="col-sm-5">
                <input type="text" class="form-control"
                       av-bind="$scope.firstName +' '+ $scope.lastName" readonly>
            </div>
        </div>


    </form>
    <div class="form-group">
        <label class="col-sm-3 control-label">$root.avBind.form.firstName</label>

        <div class="col-sm-5">
            <label av-bind="$root.avBind.form.firstName"></label>
        </div>
    </div>
</div>

<h2>av-if / av-visible / av-visibleIf</h2>

<div class="well row form-horizontal" av-scope="avIf">
    <div class="form-group">
        <div class="col-sm-2"><input class="form-control" av-bind="ifTrue"/></div>
        <div class="col-sm-3">
            <label class="control-label">some thing is behind this</label>
        </div>
        <div class="col-sm-4">
                    <span av-visibleIf="$scope.ifTrue">
                        <button class="btn btn-success">See me ($scope.ifTrue==true)</button>
                    </span>
        </div>
    </div>

    <div class="form-group">
        <div class="col-sm-2"><input class="form-control" av-bind="visibleTrue"/></div>
        <div class="col-sm-3">
            <label class="control-label">some thing is behind this</label>
        </div>
        <div class="col-sm-4">
                    <span av-visible="$scope.visibleTrue">
                        <button class="btn btn-success">See me ($scope.ifTrue==true)</button>
                    </span>
        </div>
    </div>

    <div class="form-group">
        <div class="col-sm-2"><input class="form-control" av-bind="visibleIfTrue"/></div>
        <div class="col-sm-3">
            <label class="control-label">some thing is behind this</label>
        </div>
        <div class="col-sm-4">
                    <span av-visibleIf="$scope.visibleIfTrue">
                        <button class="btn btn-success">See me ($scope.ifTrue==true)</button>
                    </span>
        </div>
    </div>
</div>

<h2>av-css</h2>

<div class="row well form-horizontal" av-scope="avCss">
    <div class="col-sm-2">
        <input class="form-control" av-bind="$scope.btnLg" placeholder="btnLg"/>
    </div>
    <div class="col-sm-2">
        <input class="form-control" av-bind="$scope.btnDanger" placeholder="btnDanger"/>
    </div>
    <div class="col-sm-4">
        <a class="btn btn-lg btn-default" av-css="{ 'btn-lg' : $scope.btnLg , 'btn-danger': $scope.btnDanger }">
            { 'btn-lg' : $scope.btnLg , 'btn-danger': $scope.btnDanger }
        </a>
    </div>
</div>

<h2>av-style</h2>

<div class="row well form-horizontal" av-scope="avStyle">
    <div class="col-sm-2">
        <input class="form-control" av-bind="$scope.width" placeholder="width"/>
    </div>
    <div class="col-sm-2">
        <input class="form-control" av-bind="$scope.height" placeholder="height"/>
    </div>
    <div class="col-sm-4">
        <a class="btn btn-default"
           av-style="{ 'width' : $scope.width || 400 , 'height': $scope.height || 35 }">
            { 'width' : $scope.width || 400 , 'height': $scope.height || 50 }
        </a>
    </div>
</div>

<h2>av-attr</h2>

<div class="row well form-horizontal" av-scope="avStyle">
    <div class="col-sm-4">
        <input class="form-control" av-bind="$scope.title" placeholder="title"/>
    </div>
    <div class="col-sm-4">
        <a class="btn btn-default"
           av-attr="{ 'title' : $scope.title }">
            please hover me -->
            { 'title' : <span av-bind="$scope.title"></span> }
        </a>
    </div>
</div>

<h2>av-each</h2>

<div av-visible="false"></div>
<div class="row well form-horizontal" av-scope="avRealScope">
    <table class="table table-condensed">
        <thead>
        <tr>
            <th av-bind="$setVal('$scope.startTime',Date.now())"></th>
        </tr>
        <tr>
            <th>index</th>
            <th>id</th>
            <th>name</th>
        </tr>
        </thead>
        <tbody av-scope="array" av-each="$scope">
        <tr av-each-item="true">
            <td av-bind="$index()">lin1</td>
            <td av-bind="$scope.id"></td>
            <td av-bind="$scope.name"></td>
        </tr>
        </tbody>
        <tfoot>
        <tr>
            <th av-scope="array" av-bind="$scope.length"></th>
            <th><span av-bind="Date.now() - $scope.startTime"></span> ms</th>
        </tr>
        </tfoot>
    </table>
</div>

<h2>av-each(virtual scope)</h2>

<div class="row well form-horizontal" av-scope="avEach">
    <table class="table col-sm-4 table-condensed">
        <thead>
        <tr>
            <th av-bind="$setVal('$scope.startTime',Date.now())"></th>
        </tr>
        </thead>
        <tbody av-scope="array" av-each="new Array(10)">
        <tr>
            <td>first line</td>
            <td>item</td>
            <td>item</td>
        </tr>
        <tr av-each-item="true">
            <td>Name</td>
            <td>
                <input av-bind="$scope.name"/></td>
            <td av-bind="$scope.name"></td>
        </tr>
        <tr>
            <td>total</td>
            <td av-bind="$scope.length"></td>
            <td></td>
        </tr>
        </tbody>
        <tfoot>
        <tr>
            <th></th>
            <th><span av-bind="Date.now() - $scope.startTime"></span> ms</th>
        </tr>
        </tfoot>
    </table>
</div>


<h2>av-array (create,update,delete)</h2>

<div class="row well form-horizontal" av-scope="simpleArray">
    <div class="col-sm-5">
        <table class="table table-condensed">
            <thead>
            <tr>
                <th>index</th>
                <th>id</th>
                <th>name</th>
            </tr>
            <tr>
                <th colspan="3">
                    <a href="javascript:;"
                       av-click="function(){ $avArray('list').add({ id:Date.now(), name:'name' + Date.now() }) }"
                            > Add new
                        item (<span av-bind="$tryGet( $scope.list.length, 0 )">  </span>)</a>
                </th>
            </tr>
            </thead>
            <tbody av-scope="list" av-each="$scope">
            <tr av-each-item="true">
                <td av-bind="$index()"></td>
                <td av-bind="$scope.id"></td>
                <td>
                    <input av-bind="$scope.name"/>

                    <div av-scope="subArray" av-each="$scope">
                        <p>
                            <span av-bind="$index()"></span>
                            <span av-bind="name"></span>
                            <a av-click="function(){ $parent('div').$avArray().removeAt( $index() ) }"
                               href="javascript:;"> rm </a>
                        </p>
                    </div>
                </td>
                <td>
                    <a href="javascript:;"
                       av-click="function(){ $avArray('subArray').add({ id:Date.now(), name:'sub' + Date.now() }) }">add
                        sub <span av-bind="$scope.subArray.length"></span> </a>
                    <a href="javascript:;"
                       av-click="function(){ $parent('tbody').$avArray().removeAt( $index() )  }"
                            >remove</a>
                </td>
            </tr>
            </tbody>
            <tfoot>
            <tr>
                <th colspan="3"> the array length is <span av-bind="$scope.list.length"></span></th>
            </tr>
            <tr>
                <th colspan="3">
                    <a href="javascript:;"
                       av-click="function(){ $avArray('list').add({ id:Date.now(), name:'name' + Date.now() }) }"> Add new
                        item </a>
                </th>
            </tr>
            </tfoot>
        </table>
    </div>
    <div class="col-sm-5">
        <table class="table table-condensed">
            <thead>
            <tr>
                <th>index</th>
                <th>id</th>
                <th>name</th>
            </tr>
            </thead>
            <tbody av-scope="list" av-each="$scope">
            <tr av-each-item="true">
                <td av-bind="$index()"></td>
                <td av-bind="$scope.id"></td>
                <td>
                    <input av-bind="$scope.name"/>

                    <div av-scope="subArray" av-each="$scope">
                        <p>
                            <span av-bind="$index()"></span>
                            <span av-bind="name"></span>
                            <input av-bind="name">
                            <a av-click="function(){ $parent('div').$avArray().removeAt( $index() ) }"
                               href="javascript:;"> rm </a>
                        </p>
                    </div>
                </td>
                <td>
                    <a href="javascript:;"
                       av-event="{click:function(){  $parent('tbody').$avArray().removeAt( $index() )  }}">remove</a>
                </td>
            </tr>
            </tbody>
            <tfoot>
            <tr>
                <th colspan="3"> the array length is <span av-bind="$scope.list.length"></span></th>
            </tr>
            <tr>
                <th colspan="3">
                    <a href="javascript:;"
                       av-event="{ click:function(){ $avArray($ns+'.list').add({ id:Date.now(), name:'name' + Date.now() }) } }"
                            > Add new
                        item </a>
                </th>
            </tr>
            </tfoot>
        </table>
    </div>
</div>


<h2>av-array (simple array: create,update,delete)</h2>

<div class="row well form-horizontal" av-scope="basicArray">
    <div class="col-sm-9">
        <table class="table table-condensed">
            <thead>
            <tr>
                <th>index</th>
                <th>id</th>
                <th>name</th>
            </tr>
            <tr>
                <th colspan="4">
                    <a href="javascript:;"
                       av-event="{ click:function(){ $avArray('list').add({ id:Date.now(), name:'name' + Date.now() }) } }"
                            > Add new
                        item (<span av-bind="$tryGet( $scope.list.length, 0 )">  </span>)</a>
                </th>
            </tr>
            </thead>
            <tbody av-scope="list" av-each="$scope">
            <tr av-each-item="true">
                <td av-bind="$index()"></td>
                <td av-bind="$scope.id"></td>
                <td>
                    <input av-bind="$scope.name"/>
                    <br>

                    <div av-each="subArray">
                        <p>
                            <span av-bind="$index()"></span> - <input
                                av-bind="$scope.name"> - <span av-bind="$scope.name"></span>
                        </p>
                    </div>
                </td>
                <td>
                    <a href="javascript:;"
                       av-event="{ click:function(){ $avArray('subArray').add({ id:Date.now(), name:'sub' + Date.now() }) } }">add
                        sub</a>
                    <a href="javascript:;"
                       av-event="{ click:function(){ $parent('tbody').$avArray().removeAt( $index() )  } }"
                            >remove</a>
                </td>
            </tr>
            </tbody>
            <tfoot>
            <tr>
                <th colspan="4"> the array length is <span av-bind="$scope.list.length"></span></th>
            </tr>
            <tr>
                <th colspan="4">
                    <a href="javascript:;"
                       av-event="{ click:function(){ $avArray('list').add({ id:Date.now(), name:'name' + Date.now() }) } }"
                            > Add new
                        item </a>
                </th>
            </tr>
            </tfoot>
        </table>
    </div>

</div>
</div>

<script src="../ref/jquery-1.11.1.js"></script>
<script src="../avril.js"></script>
<script src="../avril.tools.js"></script>
<script src="../avril.mvvm.js"></script>
<script src="js/mvvm.example.js"></script>
<!-- Latest compiled and minified JavaScript -->
<script src="../ref/bootstrap/js/bootstrap.min.js"></script>
</body>
</html>